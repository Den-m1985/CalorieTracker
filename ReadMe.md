Необходимо создать REST API сервис для отслеживания дневной нормы калорий пользователя и учета съеденных блюд.

Требования:

1. Пользователи. Добавление пользователей с параметрами:

- ID

- Имя

- Email

- Возраст

- Вес

- Рост

- Цель (Похудение, Поддержание, Набор массы)



На основе данных автоматически рассчитать дневную норму калорий (можно использовать формулу Харриса-Бенедикта).

2. Блюда. Добавление блюд с параметрами:

- ID

- Название

- Количество калорий на порцию

- Белки/Жиры/Углеводы

3. Прием пищи. Пользователь может добавлять прием пищи со списком блюд

4. Отчеты (эндпоинты, без формирования документа):

- отчет за день с суммой всех калорий и приемов пищи;

- проверка, уложился ли пользователь в свою дневную норму калорий;

- история питания по дням.



Нефункциональные требования:

- использовать Spring Boot + Spring Data JPA;

- база данных PostgreSQL;

- валидация входных данных (например, проверка веса и роста на адекватность);

- написать юнит-тесты для основной логики;

- реализовать обработку ошибок (например, если пользователь не найден).


## В проекте настроен workflows
Рабочие процессы определяются в каталоге .github/workflows в репозитории.  
Тесты запускаются с базой данных H2

## Запуск проекта в IDEA:
Сначала необходимо запустить базу данных в контейнере:
```shell
docker compose up
```
Запускаем CalorieTrackerApplication в своей среде разработке  
или в терминале в корне проекта:
```shell
mvn spring-boot:run
```
## Так же можно запустить проект в docker:
Если нужно запустить проект в контейнере, то раскомментируем секцию app в docker compose.
```shell
docker compose up
```
Проект и база данных будет запущены в контейнере.


### Deploy APP на VDS сервер:
Собираем образ
```shell
docker build -t task_app .
```

Сохраняем контейнер в файл (в ту же директорию, где и образ)
```shell
sudo docker save -o task_app.tar task_app
```

Копируем на сервер по SSH (~ означает сохранить в домашнюю директорию)
```shell
sudo scp task_app.tar root@[12.345.678.9101]:~
```

Заходим на наш сервер:
```shell
ssh root@[12.345.678.9101]
```

Импортируем образ из файла на сервере:
```shell
docker load < task_app.tar
```

Запускаем контейнер на сервере в режиме демона:
```shell
docker run -d -p [port]:[port] task_app
```

Удаляем файл на сервере
```shell
rm task_app.tar
```

### Deploy POSTGRES на VDS сервер:
```shell
docker run -d --name task -e POSTGRES_DB=task -e POSTGRES_USER=[insert name] -e POSTGRES_PASSWORD=[insert password] -p 5432:5432 postgres:latest
```

заходим внутрь контейнера
```shell
docker exec -it task psql -U postgres_task task
```
